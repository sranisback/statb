{% extends 'statbb/base.html.twig' %}

{% block title %}Joueurs{% endblock %}

{% block body %}
    <div class="card">
        <div class="card-body">

            <h1>Joueurs</h1>
            <div class="table-responsive">
                <table class="table-striped" id="Admin_player">
                    <thead>
                    <tr>
                        <th>Name</th>
                        <th>Team</th>
                        <th>Annee</th>
                        <th>Race</th>
                        <th>Type</th>
                        <th>Nr</th>
                        <th>DateBought</th>
                        <th>DateSold</th>
                        <th>AchMa</th>
                        <th>AchSt</th>
                        <th>AchAg</th>
                        <th>AchAv</th>
                        <th>ExtraSpp</th>
                        <th>ExtraVal</th>
                        <th>Value</th>
                        <th>Status</th>
                        <th>DateDied</th>
                        <th>InjMa</th>
                        <th>InjSt</th>
                        <th>InjAg</th>
                        <th>InjAv</th>
                        <th>InjNi</th>
                        <th>Photo</th>
                        <th>actions</th>
                    </tr>
                    </thead>
                    <tbody>
                    {% for player in players %}
                        <tr>
                            <td>{{ player.name }}</td>
                            <td>{{ player.ownedByTeam.name }}</td>
                            <td>{{ player.ownedByTeam.year }}</td>
                            <td>{{ player.fRid.name }} {{ dump(players) }}</td>
                            <td>
                                {% if player.type == 2 %}
                                    J
                                {% else %}
                                    N
                                {% endif %}
                            </td>
                            <td>{{ player.nr }}</td>
                            <td>{{ player.dateBought ? player.dateBought|date('d-m-Y') : '' }}</td>
                            <td>{{ player.dateSold ? player.dateSold|date('d-m-Y') : '' }}</td>
                            <td>{{ player.achMa }}</td>
                            <td>{{ player.achSt }}</td>
                            <td>{{ player.achAg }}</td>
                            <td>{{ player.achAv }}</td>
                            <td>{{ player.extraSpp }}</td>
                            <td>{{ player.extraVal }}</td>
                            <td>{{ player.value }}</td>
                            <td>
                                {% if (player.status == 7 ) %}
                                    Vendu
                                {% endif %}
                                {% if (player.status == 8 ) %}
                                    Mort
                                {% endif %}
                                {% if (player.status == 9 ) %}
                                    XP
                                {% endif %}
                                {% if (player.injRpm > 0 ) %}
                                    RPM
                                {% endif %}
                            </td>
                            <td>{{ player.dateDied ? player.dateDied|date('d-m-Y') : '' }}</td>
                            <td>{{ player.injMa }}</td>
                            <td>{{ player.injSt }}</td>
                            <td>{{ player.injAg }}</td>
                            <td>{{ player.injAv }}</td>
                            <td>{{ player.injNi }}</td>
                            <td>{{ player.photo }}</td>
                            <td>
                                <a href="{{ path('players_show', {'playerId': player.playerId}) }}">show</a>
                                <a href="{{ path('players_edit', {'playerId': player.playerId}) }}">edit</a>
                            </td>
                        </tr>
                    {% else %}
                        <tr>
                            <td colspan="23">no records found</td>
                        </tr>
                    {% endfor %}
                    </tbody>
                </table>
            </div>

            <a href="{{ path('players_new') }}">Create new</a>
        </div>
    </div>
{% endblock %}
